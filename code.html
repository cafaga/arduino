<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=l6D95h51ocAZakGcjUM0xD-V5k2sJmZUlF0JUbgNbAjOfsfM6rvuuu7h1pY3r_-A);ol{margin:0;padding:0}table td,table th{padding:0}.c9{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:450.8pt;border-top-color:#000000;border-bottom-style:solid}.c4{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:455.2pt;border-top-color:#000000;border-bottom-style:solid}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Nanum Gothic";font-style:normal}.c10{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c7{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c8{color:#ff0000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.2;text-align:left}.c6{border-spacing:0;border-collapse:collapse;margin-right:auto}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c11{background-color:#ffffff;max-width:451.3pt;padding:72pt 72pt 72pt 72pt}.c5{font-weight:400;font-family:"Nanum Gothic"}.c1{height:0pt}.c3{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:0pt;color:#000000;font-weight:700;font-size:11pt;padding-bottom:0pt;font-family:"Nanum Gothic";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c11 doc-content"><p class="c7 c3"><span class="c2"></span></p><table class="c6"><tr class="c1"><td class="c4" colspan="1" rowspan="1"><p class="c12"><span class="c5">&#51652;&#51676;&#52572;&#51333; &#48143; &#51204;&#49884;&#50857; / &#47560;&#49828;&#53552; &#48372;&#46300; &#53076;&#46300;</span></p></td></tr><tr class="c1"><td class="c4" colspan="1" rowspan="1"><p class="c0"><span class="c2">#include &lt;SoftwareSerial.h&gt;</span></p><p class="c0"><span class="c2">#include &lt;DHT.h&gt;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">#define DHTPIN A0 &nbsp; &nbsp; &nbsp;// DHT &#49468;&#49436; &#50672;&#44208; &#54592; (A0 &#54592;)</span></p><p class="c0"><span class="c2">#define DHTTYPE DHT11 &nbsp;// &#49324;&#50857; &#51473;&#51064; DHT &#49468;&#49436;&#51032; &#47784;&#45944; (DHT11, DHT21, DHT22 &#51473; &#49440;&#53469;)</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">SoftwareSerial Serial2(10, 11); // rx, tx</span></p><p class="c0"><span class="c2">SoftwareSerial BT(7, 6); &nbsp; &nbsp; &nbsp; &nbsp;// &#48660;&#47336;&#53804;&#49828; &#53685;&#49888; &#54592; &#49444;&#51221;</span></p><p class="c0"><span class="c2">DHT dht(DHTPIN, DHTTYPE); // DHT &#49468;&#49436; &#49444;&#51221;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">char input;</span></p><p class="c0"><span class="c2">char mode = &#39;B&#39;;</span></p><p class="c0"><span class="c2">const int trig = 12;</span></p><p class="c0"><span class="c2">const int echo = 13;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">void fanMode(char value, float temp, float distance); // &#49440;&#54413;&#44592; &#46041;&#51089; &#54632;&#49688;</span></p><p class="c0"><span class="c2">float read_temperature(void); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // &#50728;&#46020;&#44050; &#51069;&#45716; &#54632;&#49688;</span></p><p class="c0"><span class="c2">float read_distance(void); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#44144;&#47532;&#44050; &#51069;&#45716; &#54632;&#49688;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">void setup() {</span></p><p class="c0"><span class="c2">&nbsp; // &#53685;&#49888; &#49444;&#51221;(&#50500;&#46160;&#51060;&#45432;, &#48660;&#47336;&#53804;&#49828;)</span></p><p class="c0"><span class="c2">&nbsp; Serial.begin(9600);</span></p><p class="c0"><span class="c2">&nbsp; Serial2.begin(9600);</span></p><p class="c0"><span class="c2">&nbsp; BT.begin(9600);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; // &#52488;&#51020;&#54028; &#49468;&#49436; &#54592; &#49444;&#51221;</span></p><p class="c0"><span class="c2">&nbsp; pinMode(trig, OUTPUT); // &#52488;&#51020;&#54028; &#49468;&#49436; trig &#54592; OUTPUT &#49444;&#51221;</span></p><p class="c0"><span class="c2">&nbsp; pinMode(echo, INPUT); &nbsp;// &#52488;&#51020;&#54028; &#49468;&#49436; echo &#54592; INPUT &#49444;&#51221;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; // &#50728;&#49845;&#46020; &#49468;&#49436; &#49444;&#51221;</span></p><p class="c0"><span class="c2">&nbsp; dht.begin();</span></p><p class="c0"><span class="c2">}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">void loop() {</span></p><p class="c0"><span class="c2">&nbsp; float temp = read_temperature(); &nbsp;// &#50728;&#46020; &#44050; &#51200;&#51109;</span></p><p class="c0"><span class="c2">&nbsp; float distance = read_distance(); // &#44144;&#47532; &#44050; &#51200;&#51109;</span></p><p class="c0"><span class="c2">&nbsp; Serial.println(temp);</span></p><p class="c0"><span class="c2">&nbsp; Serial.println(distance);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; // &#50545; &#54868;&#47732;&#50640; &#50728;&#46020;&#44050;&#44284; &#44144;&#47532;&#44050; &#51204;&#49569;</span></p><p class="c0"><span class="c2">&nbsp; BT.print(temp);</span></p><p class="c0"><span class="c2">&nbsp; BT.print(&quot; / &quot;);</span></p><p class="c0"><span class="c2">&nbsp; BT.print(distance);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; if (BT.available())</span></p><p class="c0"><span class="c2">&nbsp; {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; input = BT.read();</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; if (input == &#39;A&#39;) mode = &#39;A&#39;;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; else if (input == &#39;B&#39;) mode = &#39;B&#39;;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; else if (input == &#39;C&#39;) mode = &#39;C&#39;;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; else if (input == &#39;D&#39;) mode = &#39;D&#39;;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; Serial.println(mode);</span></p><p class="c0"><span class="c2">&nbsp; }</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; if (mode == &#39;A&#39;) fanMode(mode, temp, distance); &nbsp; &nbsp; &nbsp; // &#51088;&#46041; &#47784;&#46300;</span></p><p class="c0"><span class="c2">&nbsp; else if (mode == &#39;B&#39;) fanMode(mode, temp, distance); &nbsp;// &#49688;&#46041; &#47784;&#46300; &#45824;&#44592; &#49345;&#53468;(&#46041;&#51089; X)</span></p><p class="c0"><span class="c2">&nbsp; else if (mode == &#39;C&#39;) fanMode(mode, temp, distance); &nbsp;// &#49688;&#46041; &#47784;&#46300; 1&#45800;(Power &#53664;&#44544; On)</span></p><p class="c0"><span class="c2">&nbsp; else if (mode == &#39;D&#39;) fanMode(mode, temp, distance); &nbsp;// &#49688;&#46041; &#47784;&#46300; 2&#45800;(Power &#53664;&#44544; On, StrongWind &#53664;&#44544; On)</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; Serial.println(&quot; &quot;);</span></p><p class="c0"><span class="c2">&nbsp; delay(200);</span></p><p class="c0"><span class="c2">}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">void fanMode(char value, float temp, float distance)</span></p><p class="c0"><span class="c2">{</span></p><p class="c0"><span class="c2">&nbsp; switch (value)</span></p><p class="c0"><span class="c2">&nbsp; {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; // &#51088;&#46041; &#47784;&#46300;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; case &#39;A&#39; :</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; if (temp &gt;= 15.0) &nbsp;// &#50728;&#46020;&#44032; 15&#46020; &#51060;&#49345;&#51060;&#44256;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; if ((distance &gt;= 30.0) &amp;&amp; (distance &lt;= 60.0)) // &#44144;&#47532;&#44032; 30 ~ 60 &#49324;&#51060;&#46972;&#47732; 1&#45800; &#46041;&#51089;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Serial2.print(1);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Serial.print(&quot;&#51088;&#46041; 1&#45800;&quot;);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; else if (distance &lt;= 30.0) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#44144;&#47532;&#44032; 30 &#51060;&#54616;&#46972;&#47732; 2&#45800; &#46041;&#51089;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Serial2.print(2);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Serial.print(&quot;&#51088;&#46041; 2&#45800;&quot;);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &#51060;&#50808;&#50640;&#45716; &#51089;&#46041; &#51473;&#51648;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Serial2.print(3);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Serial.print(&quot;&#51088;&#46041; &#51221;&#51648;&quot;);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; break;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; </span></p><p class="c0"><span class="c2">&nbsp; &nbsp; // &#49688;&#46041; &#51221;&#51648; &#47784;&#46300;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; case &#39;B&#39; :</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; Serial2.print(3);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; Serial.print(&quot;&#49688;&#46041; &#51221;&#51648;&quot;);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; break;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; </span></p><p class="c0"><span class="c2">&nbsp; &nbsp; // &#49688;&#46041; 1&#45800; &#47784;&#46300;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; case &#39;C&#39; :</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; Serial2.print(1);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; Serial.print(&quot;&#49688;&#46041; 1&#45800;&quot;);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; break;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; </span></p><p class="c0"><span class="c2">&nbsp; &nbsp; // &#49688;&#46041; 2&#45800; &#47784;&#46300;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; case &#39;D&#39; :</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; Serial2.print(2);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; Serial.print(&quot;&#49688;&#46041; 2&#45800;&quot;);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; break;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; default :</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; break;</span></p><p class="c0"><span class="c2">&nbsp; }</span></p><p class="c0"><span class="c2">}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">float read_distance() {</span></p><p class="c0"><span class="c2">&nbsp; digitalWrite(trig, LOW);</span></p><p class="c0"><span class="c2">&nbsp; delayMicroseconds(2);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; digitalWrite(trig, HIGH);</span></p><p class="c0"><span class="c2">&nbsp; delayMicroseconds(10);</span></p><p class="c0"><span class="c2">&nbsp; digitalWrite(trig, LOW);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; long duration = pulseIn(echo, HIGH);</span></p><p class="c0"><span class="c2">&nbsp; return (((float)(340 * duration) / 10000) / 2);</span></p><p class="c0"><span class="c2">}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">float read_temperature() {</span></p><p class="c0"><span class="c2">&nbsp; float tempC = dht.readTemperature();</span></p><p class="c0"><span class="c2">&nbsp; return tempC;</span></p><p class="c0"><span class="c2">}</span></p></td></tr></table><p class="c3 c7"><span class="c2"></span></p><table class="c6"><tr class="c1"><td class="c9" colspan="1" rowspan="1"><p class="c12"><span class="c5">&#51652;&#51676;&#52572;&#51333; &#48143; &#51204;&#49884;&#50857; / &#49836;&#47112;&#51060;&#48652; &#48372;&#46300; &#53076;&#46300;</span></p></td></tr><tr class="c1"><td class="c9" colspan="1" rowspan="1"><p class="c0"><span class="c2">#include &lt;SoftwareSerial.h&gt;</span></p><p class="c0"><span class="c2">#include &lt;Stepper.h&gt;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">const int stepsPerRevolution = 2048; // &#49828;&#53580;&#54140; &#47784;&#53552; &#54620; &#48148;&#53300;&#45817; &#49828;&#53597; &#49688;</span></p><p class="c0"><span class="c2">Stepper stepMotor(stepsPerRevolution, 3, 5, 4, 6);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">SoftwareSerial Serial2(10, 11);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">int receivedValue;</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">void setup() {</span></p><p class="c0"><span class="c2">&nbsp; Serial.begin(9600);</span></p><p class="c0"><span class="c2">&nbsp; Serial2.begin(9600);</span></p><p class="c0"><span class="c2">}</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">void loop() {</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; if (Serial2.available()) receivedValue = Serial2.read();</span></p><p class="c0"><span class="c2">&nbsp;</span></p><p class="c0"><span class="c2">&nbsp; Serial.print(&quot;Status: &quot;);</span></p><p class="c0 c3"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; switch (receivedValue)</span></p><p class="c0"><span class="c2">&nbsp; {</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; case 49 :</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; Serial.println(&quot;1&#45800; &#51089;&#46041; &#51473;&quot;);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; stepMotor.setSpeed(5); // &#49828;&#53580;&#54140; &#47784;&#53552; &#49549;&#46020; &#49444;&#51221; (RPM)</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; stepMotor.step(25); // &#51648;&#51221;&#46108; &#49828;&#53597; &#49688;&#47564;&#53372; &#54924;&#51204;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; break;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; case 50 :</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; Serial.println(&quot;2&#45800; &#51089;&#46041; &#51473;&quot;);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; stepMotor.setSpeed(15);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; stepMotor.step(50);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; break;</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; case 51 :</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; Serial.println(&quot;&#51221;&#51648;&quot;);</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; break;</span></p><p class="c0"><span class="c2">&nbsp; }</span></p><p class="c0"><span class="c2">}</span></p></td></tr></table><p class="c7 c3"><span class="c10"></span></p></body></html>